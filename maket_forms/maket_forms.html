<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>FORM_TASK</title>
    <link href="styles.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=PT+Sans&display=swap" rel="stylesheet">
</head>
<body>
<header>
    <h1>Оставьте свой отзыв</h1>
    <div>Помогите нашим отелям стать лучше! Оставьте отзыв о них, а также о посещенных вами достопримечательностях</div>
</header>
<section1>
    <div>
        <form id="meter1" onchange="Fun()">
        <span>Ваше общее впечатление:</span><br>
        <input type="radio" class="radio" name="impression" id=impression1 value="1">
        <label class="label" for="impression1">Крайне положительное</label><br>
        <input type="radio" class="radio"name="impression" id=impression2 value="0.7">
        <label class="label" for="impression2">Скорее положительное</label><br>
        <input type="radio" class="radio" name="impression" id=impression3 value="0.5">
        <label class="label" for="impression3" id="special">Затрудняюсь ответить</label><br>
        <input type="radio" class="radio" name="impression" id=impression4 value="0.3">
        <label class="label" for="impression4" id="special2">Скорее отрицательное</label><br>
        <input type="radio" class="radio" name="impression" id=impression5 value="0.1">
        <label class="label" for="impression5">Крайне отрицательное</label><br>
        </form>
        <div id="imp">
            <meter value="0"></meter><p>&nbsp;</p>
        </div>
    </div>
    <div>
        <span>Представьтесь:</span><br>
        <label for="name">Имя*:</label>
        <input type="text" name="fio" id="name" placeholder="ПЕТР"><br>
        <label for="surname">Фамилия*:</label>
        <input type="text" name="fio" id="surname" placeholder="ИВАНОВ"><br>
        <label for="fathername">Отчество*:</label>
        <input type="text" name="fio" id="fathername" placeholder="АЛЕКСАНДРОВИЧ"><br>
    </div>
</section1>
<section>
    <div>Контактная информация:</div>
    <div>
        <label for="phone">Телефон*:</label>
        <input type="tel" name="contacts" id="phone" placeholder="ВВЕДИТЕ ТЕЛЕФОН">
        <label for="email">Электронная почта*:</label>
        <input type="email" name="contacts" id="email" placeholder="ВВЕДИТЕ E-MAIL">  
    </div>
</section>
<section>
    <div>Детали поездки:</div>
    <div class="flex">
        <div>
            <label for="calendar">Дата поездки:</label><br>
            <input type="date" name="calendar" id="triptime" value="2019-07-18">
        </div>
        <div>
            <label for="country">Выберите страну:</label><br>
            <select name="country" id="country">
                <option value=Беларусь selected>Беларусь</option>
                <option value=Италия>Италия</option>
                <option value=Эстония>Эстония</option>
            </select>
        </div>
        <div>
            <form name="sightseens">
            <input type="checkbox" class="checkbox" name="places" id="place1" value="Лысая гора">
            <label class="label" for="place1" id="place11">Лысая гора</label><br>
            <img class="belarus" src="imgs/gora.jpg">
            <img class="italy" src="imgs/colocsseum.jpg">
            <img class="estonia" src="imgs/townhall.jpg">
            <input type="checkbox" class="checkbox" name="places" id="place2" value="Национальная библиотека">
            <label class="label"  for="place2" id="place22">Национальная библиотека</label><br>
            <input type="checkbox" class="checkbox" name="places" id="place3" value="Гродненский зоопарк">
            <label class="label" for="place3" id="place33">Гродненский зоопарк</label><br>
            </form>
        </div>
    </div>
</section>
<section id="sectionRange">
    <div>Оцените качество услуг гида:</div>
    <div class="flex">
    <form id="range1" >
    <div>
        <input type="checkbox" class="checkbox" name="lang" id="lang" checked onchange="Range()">
        <label class="label" for="lang">На родном языке</label>
    </div>
    <div id="range11">
        <p><i>не пользовались</i></p>
        <input class="range" type="range" id="start" name="volume" min="0" max="100" placeholder="50" onchange="Range()">
        <span></span>
    </div>
    </form>
    <form id="range2" >
        <div>
            <input type="checkbox" class="checkbox" name="lang" id="lang2" checked onchange="Range()">
            <label class="label" for="lang2">На языке посещенной страны</label>
        </div>
        <div id="range22">
            <p><i>не пользовались</i></p>
            <input class="range" type="range" id="start2" name="volume" min="0" max="100" placeholder="50" onchange="Range()">
            <span></span>
        </div>
        </form>
    </div>
    
</section>
<section>
    <div>Галерея:</div>
</section>
<section>
    <div>Опишите свои эмоции:</div>
    <textarea name='rate' id='rate'></textarea><br>
    <input type='submit' value='Отправить отзыв' id="send">
</section>
<button id="openDialog" onclick="OpenDialog(); Sightseens();">Итоговая информация</button>
<dialog> 
<h3></h3>
<h4>Итоговая информация</h4>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<button id="closeDialog">Закрыть</button>
</dialog>


<script>
        var dialog = document.querySelector('dialog');
        function OpenDialog() {
        dialog.show(); 
        document.querySelector('dialog>h3:nth-child(1)').innerHTML = 'Спасибо за ваш отзыв, ' + document.getElementById('name').value +
        ' ' + document.getElementById('surname').value + '!';
        document.querySelector('dialog>p:nth-child(3)').innerHTML = '<b>Имя:</b> ' + document.getElementById('name').value + '<br>' +
        '<b>Фамилия:</b> ' + document.getElementById('surname').value + '<br>' +
        '<b>Отчество:</b> ' + document.getElementById('fathername').value + '<br>' +
        '<b>Телефон:</b>   ' + document.getElementById('phone').value + '<br>' +
        '<b>Email:</b>   ' + document.getElementById('email').value + '<br>' +
        '<b>Дата поездки:</b> ' + document.getElementById('triptime').value + '<br>' +
        '<b>Страна поездки:</b> ' + document.getElementById('country').value;
        document.querySelector('dialog>p:nth-child(4)').innerHTML = '<b>Посещенные достопримечательности:</b> <br>';
        
        } 
        document.querySelector('#send').onclick = function() {
            document.querySelector('dialog>p:nth-child(6)').innerHTML = '<b>Ваше мнение:</b> <br>' + document.getElementById('rate').value;
        }
        document.querySelector('#closeDialog').onclick = function() {
         dialog.close();
         document.querySelector('dialog>p:nth-child(4)').innerHTML = 'Посещенные достопримечательности: <br>';
        }
       function CountryChoice(a) {
           if (a == 0) {
            document.querySelector('#place11').innerHTML = 'Лысая гора';
            sightseens[0].value = 'Лысая гора'; 
            document.querySelector('#place22').innerHTML = 'Национальная библиотека';
            sightseens[1].value = 'Национальная библиотека';
            document.querySelector('#place33').innerHTML = 'Гродненский зоопарк';
            sightseens[2].value = 'Гродненский зоопарк';
           }
           if (a == 1) {
            document.querySelector('#place11').innerHTML = 'Колизей';
            sightseens[0].value = 'Колизей';
            document.querySelector('#place22').innerHTML = 'Пизанская башня';
            sightseens[1].value = 'Пизанская башня';
            document.querySelector('#place33').innerHTML = 'Венеция';
            sightseens[2].value = 'Венеция';
           }
           if (a == 2) {
            document.querySelector('#place11').innerHTML = 'Таллинская ратуша';
            sightseens[0].value = 'Таллинская ратуша';
            document.querySelector('#place22').innerHTML = 'Лахемаа';
            sightseens[1].value = 'Лахемаа';
            document.querySelector('#place33').innerHTML = 'Замок Тоомпеа';
            sightseens[2].value = 'Замок Тоомпеа';
           }
       }
       document.querySelector('select').onchange = function() { 
           for (var i = 0; i<document.querySelector('select').length; i++) {
                if (document.querySelector('select').options[i].selected == true) {
                    CountryChoice(i);
                }
            }    
        }
        function Fun() {
            for (var i = 0; i<meter1.length; i++) {
                if (meter1[i].checked == true) {
                    document.querySelector('meter').value = meter1[i].value;
                    document.querySelector('dialog>p:nth-child(5)').innerHTML = '<b>Общее впечатление:</b> ' + document.getElementsByTagName('label')[i].innerText;
                    document.querySelector('#imp p').innerHTML = meter1[i].value*100 + '%';
                }
            }
        }
        function Sightseens() {
            for (var i = 0; i<sightseens.length; i++) {
                if (sightseens[i].checked == true) {
                document.querySelector('dialog>p:nth-child(4)').innerHTML += sightseens[i].value + '<br>';
                }
            }
        }
        function Range() {
            if (document.querySelector('#lang').checked == false) {
                document.querySelector('#range11 p').style.display = "block";
                document.querySelector('#range11 input').style.display = "none";
                document.querySelector('#range11 span').style.display = "none";
                document.querySelector('dialog>p:nth-child(8)').innerHTML = ';'
            }
            else {
            document.querySelector('#range11 p').style.display = "none";
            document.querySelector('#range11 input').style.display = "block"; 
            document.querySelector('#range11 span').innerHTML = document.querySelector('#range11 input').value;
            document.querySelector('#range11 span').style.display = "inline-block";  
            document.querySelector('dialog>p:nth-child(7)').innerHTML = '<b>Оценка гида на русском языке:</b> ' + document.querySelector('#range11 input').value;
            }
            if (document.querySelector('#lang2').checked == false) {
                document.querySelector('#range22 p').style.display = "block";
                document.querySelector('#range22 input').style.display = "none";
                document.querySelector('#range22 span').style.display = "none";
                document.querySelector('dialog>p:nth-child(8)').innerHTML = '';
            }
            else {
            document.querySelector('#range22 p').style.display = "none";
            document.querySelector('#range22 input').style.display = "block"; 
            document.querySelector('#range22 span').innerHTML = document.querySelector('#range22 input').value;
            document.querySelector('#range22 span').style.display = "inline-block"; 
            document.querySelector('dialog>p:nth-child(8)').innerHTML = '<b>Оценка иностранного гида:</b> ' + document.querySelector('#range22 input').value; 
            }
        }


</script>

</body>
</html>